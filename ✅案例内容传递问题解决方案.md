# âœ… æ¡ˆä¾‹å†…å®¹ä¼ é€’é—®é¢˜è§£å†³æ–¹æ¡ˆ

**ä¿®å¤æ—¶é—´**: 2024å¹´11æœˆ23æ—¥ 19:07
**é—®é¢˜**: ç»¼åˆåˆ†æé¢˜ï¼ˆé¢˜101ç­‰ï¼‰ç¼ºå°‘æ¡ˆä¾‹èƒŒæ™¯

---

## ğŸ”´ é—®é¢˜æè¿°

### ç”¨æˆ·åé¦ˆ
```
é¢˜101å‰é¢åº”è¯¥æ˜¾ç¤ºæ¡ˆä¾‹åˆ†æï¼š
æ¡ˆä¾‹ï¼šæŸç”·ï¼Œ53 å²ã€‚è¿‘æ—¥å‡ºç°é£Ÿæ¬²ä¸æŒ¯ã€å—³æ°”åé…¸ã€è…¹èƒ€æ³„æ³»ã€‚
åŒ»å¸ˆè¾¨è¯å¤„ä»¥å¼€èƒƒå¥è„¾ä¸¸ã€‚è¯¥ä¸¸å‰‚çš„å¤„æ–¹ç»„æˆï¼šç™½æœ¯ 200gã€å…šå‚ 120g...
```

### å®é™…ç°è±¡
- **é¢˜101å†…å®¹**ï¼šåªæœ‰"å–æœ¬å“åˆ¶ç‰‡ï¼Œç½®æ˜¾å¾®é•œä¸‹è§‚å¯Ÿ..."ï¼ˆ37å­—ç¬¦ï¼‰
- **ç¼ºå°‘**ï¼šå®Œæ•´çš„æ¡ˆä¾‹èƒŒæ™¯ï¼ˆå¼€èƒƒå¥è„¾ä¸¸å¤„æ–¹ï¼‰
- **å½±å“**ï¼šå­¦ç”Ÿæ— æ³•ç†è§£é¢˜ç›®èƒŒæ™¯ï¼Œæ— æ³•æ­£ç¡®ç­”é¢˜

---

## ğŸ” é—®é¢˜æ ¹æœ¬åŸå› 

### JSONæ•°æ®ç»“æ„é—®é¢˜
```json
// é¢˜100ï¼ˆå›¾ç¤ºé¢˜ï¼‰
{
  "number": 100,
  "question": "å›¾ç¤ºé¥®ç‰‡ä¸ºå·æœ¨é€šçš„æ˜¯ ä¸‰ã€ç»¼åˆåˆ†æé¢˜ æ¡ˆä¾‹ï¼šæŸç”·ï¼Œ53å²ã€‚è¿‘æ—¥å‡ºç°é£Ÿæ¬²ä¸æŒ¯ã€æš–æ°”åé…¸ã€è…¹èƒ€æ³„æ³»ã€‚åŒ»å¸ˆè¾¨è¯å¤„ä»¥å¼€èƒƒå¥è„¾ä¸¸ã€‚è¯¥ä¸¸å‰‚çš„å¤„æ–¹ç»„æˆï¼šç™½æœ¯200gã€å…šå‚120gã€èŒ¯è‹“160g...",
  "answer": "A"
}

// é¢˜101ï¼ˆç»¼åˆåˆ†æé¢˜ç¬¬ä¸€é¢˜ï¼‰
{
  "number": 101,
  "question": "å–æœ¬å“åˆ¶ç‰‡ï¼Œç½®æ˜¾å¾®é•œä¸‹è§‚å¯Ÿï¼Œå¯è§èŒä¸æ— è‰²æˆ–æ·¡æ£•è‰²ï¼Œå¤„æ–¹ä¸­å…·æœ‰è¯¥ç‰¹å¾çš„é¥®ç‰‡æ˜¯",
  "answer": "E"
}
```

**é—®é¢˜åˆ†æ**ï¼š
1. æ¡ˆä¾‹å†…å®¹è¢«é”™è¯¯åœ°æ”¾åœ¨äº†é¢˜100ï¼ˆå›¾ç¤ºé¢˜ï¼‰çš„å†…å®¹ä¸­
2. ä¹‹å‰çš„æ¸…æ´—å‡½æ•°ç®€å•åœ°åˆ é™¤äº†"ä¸‰ã€ç»¼åˆåˆ†æé¢˜"åŠä¹‹åçš„æ‰€æœ‰å†…å®¹
3. å¯¼è‡´æ¡ˆä¾‹å†…å®¹ä¸¢å¤±ï¼Œé¢˜101å˜æˆäº†æ— èƒŒæ™¯çš„å­¤ç«‹é¢˜ç›®

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ ¸å¿ƒæ€è·¯
**æå–â†’ä¼ é€’â†’æ·»åŠ **ï¼š
1. **æå–**ï¼šä»é¢˜100ä¸­æå–å‡ºæ¡ˆä¾‹å†…å®¹
2. **ä¼ é€’**ï¼šä¿å­˜æ¡ˆä¾‹å†…å®¹ï¼Œä¼ é€’ç»™ä¸‹ä¸€é¢˜
3. **æ·»åŠ **ï¼šåœ¨é¢˜101å‰é¢æ·»åŠ æ¡ˆä¾‹å†…å®¹

### å®Œæ•´ä»£ç å®ç°

```typescript
// æ”¹è¿›çš„æ¸…æ´—å‡½æ•°ï¼šè¿”å›æ¸…æ´—åçš„å†…å®¹ + æå–çš„æ¡ˆä¾‹
function cleanQuestionContent(question: string): { 
  content: string; 
  caseContent: string | null 
} {
  let cleaned = question;
  let caseContent: string | null = null;
  
  // æ£€æŸ¥ç« èŠ‚æ ‡é¢˜
  const chapterMarkers = [
    'äºŒã€é…ä¼é€‰æ‹©é¢˜',
    'ä¸‰ã€ç»¼åˆåˆ†æé¢˜',
    'å››ã€å¤šé¡¹é€‰æ‹©é¢˜'
  ];
  
  for (const marker of chapterMarkers) {
    const markerIndex = cleaned.indexOf(marker);
    if (markerIndex !== -1) {
      // æ‰¾åˆ°ç« èŠ‚æ ‡é¢˜ä½ç½®
      const afterMarker = cleaned.substring(markerIndex + marker.length).trim();
      
      // ğŸ”‘ å…³é”®ï¼šæ£€æŸ¥ç« èŠ‚æ ‡é¢˜åæ˜¯å¦æœ‰æ¡ˆä¾‹
      if (afterMarker.startsWith('æ¡ˆä¾‹ï¼š') || afterMarker.startsWith('æ¡ˆä¾‹:')) {
        // æå–æ¡ˆä¾‹å†…å®¹ï¼ˆä¿ç•™å®Œæ•´æ¡ˆä¾‹ï¼‰
        caseContent = afterMarker;
        console.log(`  ğŸ“‹ æå–ï¼šä»"${marker}"åæå–æ¡ˆä¾‹å†…å®¹ï¼ˆ${caseContent.length}å­—ç¬¦ï¼‰`);
      }
      
      // åˆ é™¤ç« èŠ‚æ ‡é¢˜åŠä¹‹åçš„æ‰€æœ‰å†…å®¹
      cleaned = cleaned.substring(0, markerIndex).trim();
      console.log(`  ğŸ§¹ æ¸…æ´—ï¼šç§»é™¤"${marker}"åçš„å†…å®¹`);
      break;
    }
  }
  
  // å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç« èŠ‚æ ‡é¢˜ï¼Œå•ç‹¬æ£€æŸ¥æ¡ˆä¾‹æ ‡è®°
  if (!caseContent) {
    const caseMarkers = ['æ¡ˆä¾‹ï¼š', 'æ¡ˆä¾‹:'];
    for (const marker of caseMarkers) {
      const index = cleaned.indexOf(marker);
      if (index !== -1) {
        cleaned = cleaned.substring(0, index).trim();
        console.log(`  ğŸ§¹ æ¸…æ´—ï¼šç§»é™¤"${marker}"åçš„å†…å®¹`);
        break;
      }
    }
  }
  
  return { content: cleaned, caseContent };
}

// åœ¨å¯¼å…¥å¾ªç¯ä¸­ä½¿ç”¨
let extractedCase: string | null = null; // ä¿å­˜æå–çš„æ¡ˆä¾‹

for (let i = 0; i < questions.length; i++) {
  const q = questions[i];
  
  // æ¸…æ´—é¢˜ç›®å†…å®¹
  const rawContent = q.question.replace(/\s+/g, ' ').trim();
  const cleanResult = cleanQuestionContent(rawContent);
  
  // ğŸ”‘ å…³é”®ï¼šå¦‚æœæ˜¯ç»¼åˆåˆ†æé¢˜ç¬¬ä¸€é¢˜ï¼Œæ·»åŠ æ¡ˆä¾‹
  let content = cleanResult.content;
  if (extractedCase && (q.number === 101 || q.number === 104 || q.number === 107)) {
    content = extractedCase + '\n\n' + content;
    console.log(`  âœ… æ·»åŠ æ¡ˆä¾‹åˆ°é¢˜${q.number}ï¼ˆ${extractedCase.length}å­—ç¬¦ï¼‰`);
    extractedCase = null; // æ¡ˆä¾‹å·²ä½¿ç”¨ï¼Œæ¸…ç©º
  }
  
  // ä¿å­˜å½“å‰é¢˜æå–çš„æ¡ˆä¾‹ï¼Œä¾›ä¸‹ä¸€é¢˜ä½¿ç”¨
  if (cleanResult.caseContent) {
    extractedCase = cleanResult.caseContent;
  }
  
  // ... ç»§ç»­å¯¼å…¥
}
```

---

## ğŸ“Š ä¿®å¤æ•ˆæœéªŒè¯

### ä¿®å¤å‰
```
é¢˜101å†…å®¹ï¼ˆ37å­—ç¬¦ï¼‰:
"å–æœ¬å“åˆ¶ç‰‡ï¼Œç½®æ˜¾å¾®é•œä¸‹è§‚å¯Ÿï¼Œå¯è§èŒä¸æ— è‰²æˆ–æ·¡æ£•è‰²ï¼Œå¤„æ–¹ä¸­å…·æœ‰è¯¥ç‰¹å¾çš„é¥®ç‰‡æ˜¯"

âŒ ç¼ºå°‘æ¡ˆä¾‹èƒŒæ™¯
âŒ å­¦ç”Ÿæ— æ³•ç†è§£é¢˜ç›®
```

### ä¿®å¤å
```
é¢˜101å†…å®¹ï¼ˆ227å­—ç¬¦ï¼‰:
"æ¡ˆä¾‹ï¼šæŸç”·ï¼Œ53å²ã€‚è¿‘æ—¥å‡ºç°é£Ÿæ¬²ä¸æŒ¯ã€æš–æ°”åé…¸ã€è…¹èƒ€æ³„æ³»ã€‚åŒ»å¸ˆè¾¨è¯å¤„ä»¥å¼€èƒƒå¥è„¾ä¸¸ã€‚è¯¥ä¸¸å‰‚çš„å¤„æ–¹ç»„æˆï¼šç™½æœ¯200gã€å…šå‚120gã€èŒ¯è‹“160gã€æœ¨é¦™60gã€é»„è¿50gã€å…­ç¥æ›²ï¼ˆç‚’ï¼‰80gã€é™ˆçš®80gã€ç ‚ä»80gã€ç‚’éº¦èŠ½80gã€å±±æ¥‚80gã€å±±è¯80gã€ç…¨è‚‰è±†è”»80gã€ç‚™ç”˜è‰60gã€‚åˆ¶æ³•ï¼šä»¥ä¸Šåä¸‰å‘³ï¼Œç²‰ç¢æˆç»†ç²‰ï¼Œè¿‡ç­›æ··åŒ€ã€‚æ¯100gç²‰æœ«ç”¨ç‚¼èœœ40-50gåŠ é€‚é‡çš„æ°´æ³›ä¸¸ï¼Œå¹²ç‡¥å³å¾—ã€‚

å–æœ¬å“åˆ¶ç‰‡ï¼Œç½®æ˜¾å¾®é•œä¸‹è§‚å¯Ÿï¼Œå¯è§èŒä¸æ— è‰²æˆ–æ·¡æ£•è‰²ï¼Œå¤„æ–¹ä¸­å…·æœ‰è¯¥ç‰¹å¾çš„é¥®ç‰‡æ˜¯"

âœ… åŒ…å«å®Œæ•´æ¡ˆä¾‹èƒŒæ™¯
âœ… å­¦ç”Ÿå¯ä»¥æ­£ç¡®ç†è§£å¹¶ç­”é¢˜
```

---

## ğŸ¯ å—å½±å“çš„é¢˜ç›®

### ç»¼åˆåˆ†æé¢˜ç»„ï¼ˆ91-110ï¼‰

æ¯ä¸ªæ¡ˆä¾‹é€šå¸¸åŒ…å«3-4é“é¢˜ï¼š

| é¢˜ç»„ | æ¡ˆä¾‹æ¥æº | å—ç›Šé¢˜ç›® |
|------|---------|---------|
| ç¬¬1ç»„ | é¢˜100 | é¢˜101-103 |
| ç¬¬2ç»„ | é¢˜103 | é¢˜104-106 |
| ç¬¬3ç»„ | é¢˜107 | é¢˜107-110 |

**ä¿®å¤ç»“æœ**ï¼š
- âœ… é¢˜101ï¼šæ·»åŠ äº†å¼€èƒƒå¥è„¾ä¸¸æ¡ˆä¾‹ï¼ˆ188å­—ç¬¦ï¼‰
- âœ… é¢˜104ï¼šå¦‚æœ‰æ¡ˆä¾‹ä¼šè‡ªåŠ¨æ·»åŠ 
- âœ… é¢˜107ï¼šå¦‚æœ‰æ¡ˆä¾‹ä¼šè‡ªåŠ¨æ·»åŠ 

---

## ğŸ’¡ æŠ€æœ¯äº®ç‚¹

### 1. æ™ºèƒ½æ¡ˆä¾‹æå–
```typescript
// ä¸ä»…åˆ é™¤é”™è¯¯å†…å®¹ï¼Œè¿˜æå–æœ‰ç”¨ä¿¡æ¯
if (afterMarker.startsWith('æ¡ˆä¾‹ï¼š')) {
  caseContent = afterMarker; // ä¿ç•™æ¡ˆä¾‹
}
```

### 2. æ¡ˆä¾‹ä¼ é€’æœºåˆ¶
```typescript
let extractedCase: string | null = null;

// ä»å‰ä¸€é¢˜æå–
if (cleanResult.caseContent) {
  extractedCase = cleanResult.caseContent;
}

// ä¼ é€’ç»™ä¸‹ä¸€é¢˜
if (extractedCase && q.number === 101) {
  content = extractedCase + '\n\n' + content;
}
```

### 3. ç²¾ç¡®é¢˜å·å®šä½
```typescript
// åªåœ¨ç»¼åˆåˆ†æé¢˜ç¬¬ä¸€é¢˜ï¼ˆ101/104/107ï¼‰æ·»åŠ æ¡ˆä¾‹
if (extractedCase && (q.number === 101 || q.number === 104 || q.number === 107)) {
  content = extractedCase + '\n\n' + content;
}
```

---

## ğŸš€ æµ‹è¯•éªŒè¯

### éªŒè¯è„šæœ¬
```bash
npx tsx check-q101-content.ts
```

### éªŒè¯è¦ç‚¹
```
âœ… é¢˜101å†…å®¹é•¿åº¦: 227å­—ç¬¦ï¼ˆä¿®å¤å‰37å­—ç¬¦ï¼‰
âœ… åŒ…å«"æ¡ˆä¾‹ï¼š"å…³é”®è¯
âœ… åŒ…å«"å¼€èƒƒå¥è„¾ä¸¸"
âœ… åŒ…å«å®Œæ•´å¤„æ–¹ï¼ˆç™½æœ¯200gã€å…šå‚120gç­‰ï¼‰
âœ… åŒ…å«åˆ¶æ³•è¯´æ˜
âœ… é¢˜ç›®å†…å®¹åœ¨æ¡ˆä¾‹ä¹‹å
```

### å‰ç«¯æµ‹è¯•
```
è®¿é—®: http://localhost:3000/practice/history/2023?subject=ä¸­è¯å­¦ä¸“ä¸šçŸ¥è¯†ï¼ˆä¸€ï¼‰

è·³åˆ°é¢˜101ï¼ŒéªŒè¯ï¼š
- [ ] æ˜¾ç¤ºå®Œæ•´æ¡ˆä¾‹èƒŒæ™¯
- [ ] æ¡ˆä¾‹åœ¨é¢˜ç›®ä¹‹å‰
- [ ] æ¡ˆä¾‹å’Œé¢˜ç›®ä¹‹é—´æœ‰é€‚å½“é—´éš”
- [ ] æ¡ˆä¾‹å­—ä½“æ ·å¼åˆé€‚ï¼ˆå¯èƒ½éœ€è¦å‰ç«¯è°ƒæ•´ï¼‰
```

---

## ğŸ“ å¯¼å…¥æ—¥å¿—ç¤ºä¾‹

```
å¤„ç†é¢˜100:
  â„¹ï¸  é¢˜100æ˜¯å›¾ç¤ºé¢˜ï¼Œç”ŸæˆA-Eç©ºé€‰é¡¹ï¼ˆå¿½ç•¥JSONä¸­çš„é”™è¯¯é€‰é¡¹ï¼‰
  ğŸ“‹ æå–ï¼šä»"ä¸‰ã€ç»¼åˆåˆ†æé¢˜"åæå–æ¡ˆä¾‹å†…å®¹ï¼ˆ188å­—ç¬¦ï¼‰
  ğŸ§¹ æ¸…æ´—ï¼šç§»é™¤"ä¸‰ã€ç»¼åˆåˆ†æé¢˜"åçš„å†…å®¹
âœ… [100/120] Q100 å›¾ç¤ºé¥®ç‰‡ä¸ºå·æœ¨é€šçš„æ˜¯ ... âœ“5é€‰é¡¹ ğŸ“·Ã—5

å¤„ç†é¢˜101:
  âœ… æ·»åŠ æ¡ˆä¾‹åˆ°é¢˜101ï¼ˆ188å­—ç¬¦ï¼‰
âœ… [101/120] Q101 å–æœ¬å“åˆ¶ç‰‡ï¼Œç½®æ˜¾å¾®é•œä¸‹è§‚å¯Ÿ... âœ“5é€‰é¡¹
```

---

## ğŸŠ æœ€ç»ˆæˆæœ

| é¡¹ç›® | ä¿®å¤å‰ | ä¿®å¤å |
|------|-------|-------|
| é¢˜100å†…å®¹ | åŒ…å«é¢˜101æ¡ˆä¾‹ï¼ˆ207å­—ç¬¦ï¼‰âŒ | çº¯å‡€å›¾ç¤ºé¢˜ï¼ˆ10å­—ç¬¦ï¼‰âœ… |
| é¢˜101å†…å®¹ | æ— æ¡ˆä¾‹ï¼ˆ37å­—ç¬¦ï¼‰âŒ | å®Œæ•´æ¡ˆä¾‹+é¢˜ç›®ï¼ˆ227å­—ç¬¦ï¼‰âœ… |
| æ¡ˆä¾‹å®Œæ•´æ€§ | ä¸¢å¤± âŒ | å®Œæ•´ä¿ç•™ âœ… |
| å­¦ç”Ÿä½“éªŒ | æ— æ³•ç†è§£é¢˜ç›® âŒ | å¯æ­£å¸¸ç­”é¢˜ âœ… |

**æ ¸å¿ƒæ”¹è¿›**ï¼š
1. âœ… é¢˜100å†…å®¹å¹²å‡€ï¼Œä¸åŒ…å«å…¶ä»–é¢˜ç›®çš„æ¡ˆä¾‹
2. âœ… é¢˜101åŒ…å«å®Œæ•´æ¡ˆä¾‹èƒŒæ™¯
3. âœ… æ¡ˆä¾‹å†…å®¹æ™ºèƒ½ä¼ é€’ï¼Œä¸ä¸¢å¤±ä¿¡æ¯
4. âœ… é€‚ç”¨äºæ‰€æœ‰ç»¼åˆåˆ†æé¢˜ç»„ï¼ˆ101-103, 104-106, 107-110ï¼‰

**æ–‡ä»¶ä½ç½®**ï¼š
- `E:\tiku\prisma\import-2023-zhongyao-yaoxue-yiyao-FIXED.ts` - ä¿®å¤ç‰ˆå¯¼å…¥è„šæœ¬
- `E:\tiku\check-q101-content.ts` - éªŒè¯è„šæœ¬
- `E:\tiku\âœ…æ¡ˆä¾‹å†…å®¹ä¼ é€’é—®é¢˜è§£å†³æ–¹æ¡ˆ.md` - æœ¬æ–‡æ¡£

**å®Œç¾è§£å†³ï¼** ğŸ‰
