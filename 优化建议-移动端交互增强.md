# ç§»åŠ¨ç«¯äº¤äº’å¢å¼ºå»ºè®®

## é—®é¢˜ï¼šè§¦æ‘¸åé¦ˆä¸å¤Ÿæ˜æ˜¾

### ä¼˜åŒ–æ–¹æ¡ˆ 1ï¼šæ·»åŠ è§¦è§‰åé¦ˆï¼ˆHaptic Feedbackï¼‰

```typescript
// åˆ›å»ºè§¦è§‰åé¦ˆå·¥å…·å‡½æ•°
// E:\tiku\utils\haptic.ts
export const haptic = {
  light: () => {
    if ('vibrate' in navigator) {
      navigator.vibrate(10);
    }
  },
  medium: () => {
    if ('vibrate' in navigator) {
      navigator.vibrate(20);
    }
  },
  success: () => {
    if ('vibrate' in navigator) {
      navigator.vibrate([10, 50, 10]);
    }
  }
};

// åœ¨æŒ‰é’®ç‚¹å‡»æ—¶ä½¿ç”¨
<Link
  href={`/practice/history/${year.year}`}
  onClick={() => haptic.light()}
  className="..."
>
  å¼€å§‹ç»ƒä¹ 
</Link>
```

### ä¼˜åŒ–æ–¹æ¡ˆ 2ï¼šå¢å¼ºè§†è§‰åé¦ˆ

```css
/* æ·»åŠ åˆ° globals.css */
@layer utilities {
  .touch-feedback {
    @apply active:scale-95 active:brightness-95 transition-all duration-100;
    -webkit-tap-highlight-color: transparent; /* ç§»é™¤iOSé»˜è®¤é«˜äº® */
  }
  
  .touch-feedback-primary {
    @apply touch-feedback active:shadow-inner;
  }
  
  .touch-feedback-secondary {
    @apply touch-feedback active:bg-gray-100;
  }
}
```

### ä¼˜åŒ–æ–¹æ¡ˆ 3ï¼šé•¿æŒ‰èœå•

```typescript
// åœ¨å¹´ä»½å¡ç‰‡ä¸Šæ·»åŠ é•¿æŒ‰å¿«æ·èœå•
const [showMenu, setShowMenu] = useState(false);
const [menuPosition, setMenuPosition] = useState({ x: 0, y: 0 });

const handleLongPress = (e: React.TouchEvent) => {
  e.preventDefault();
  const touch = e.touches[0];
  setMenuPosition({ x: touch.clientX, y: touch.clientY });
  setShowMenu(true);
  haptic.medium();
};

// é•¿æŒ‰èœå•é€‰é¡¹
<div className="context-menu">
  <button>ğŸ“Š æŸ¥çœ‹ç»Ÿè®¡</button>
  <button>ğŸ“– ç»§ç»­ä¸Šæ¬¡</button>
  <button>ğŸ”– æ”¶è—é¢˜ç›®</button>
</div>
```

## é—®é¢˜ï¼šæ»šåŠ¨ä½“éªŒä¸æµç•…

### ä¼˜åŒ–æ–¹æ¡ˆï¼šå¯ç”¨GPUåŠ é€Ÿ

```css
.year-card {
  transform: translateZ(0); /* å¼ºåˆ¶GPUåŠ é€Ÿ */
  will-change: transform; /* æç¤ºæµè§ˆå™¨ä¼˜åŒ– */
}

/* å¹³æ»‘æ»šåŠ¨ */
html {
  scroll-behavior: smooth;
}

/* iOSæ©¡çš®ç­‹æ•ˆæœä¼˜åŒ– */
body {
  overscroll-behavior-y: contain;
}
```

## é—®é¢˜ï¼šç‚¹å‡»åŒºåŸŸå¤ªå°ï¼ˆç§»åŠ¨ç«¯ï¼‰

### å½“å‰é—®é¢˜
- ç§‘ç›®åˆ—è¡¨é¡¹ï¼šé«˜åº¦åªæœ‰48px
- å»ºè®®æœ€å°è§¦æ‘¸ç›®æ ‡ï¼š48Ã—48pxï¼ˆiOSäººæœºç•Œé¢æŒ‡å—ï¼‰

### ä¼˜åŒ–æ–¹æ¡ˆ

```typescript
// ä¿®æ”¹ç§‘ç›®åˆ—è¡¨é¡¹
<Link
  href={`/practice/history/${year.year}?subject=${subject.name}`}
  className="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition min-h-[56px]" // å¢åŠ åˆ°56px
>
  <span className="text-sm md:text-base text-gray-700">
    {subject.name}
  </span>
  <div className="flex items-center gap-2">
    <span className="text-sm text-gray-500">
      {subject.count} é“é¢˜
    </span>
    <ChevronRight className="w-5 h-5 text-gray-400" /> {/* æ·»åŠ å³ç®­å¤´ */}
  </div>
</Link>
```
