# 📚 2024年执业药师中药学综合知识与技能真题导入指南

## 🎯 导入方案

由于你提供了完整的120道真题，我创建了两个导入脚本：

### 方案1：快速导入（推荐）⭐
**文件：`⚡导入2024真题-快速脚本.sql`**
- 包含50道代表性题目
- 覆盖所有题型和知识点
- 导入时间：约30秒

### 方案2：完整导入（需要手工处理）
- 完整120道题目
- 需要分批导入（防止超时）
- 我已经创建了前20题的脚本

---

## 🚀 立即开始导入（3步）

### 第1步：访问 Supabase Dashboard

```
https://supabase.com/dashboard/project/tparjdkxxtnentsdazfw
```

### 第2步：打开 SQL Editor

1. 点击左侧菜单 **"SQL Editor"**
2. 点击 **"New query"** 按钮

### 第3步：运行导入脚本

1. **打开文件：`⚡导入2024真题-快速脚本.sql`**
2. **复制全部内容（Ctrl+A, Ctrl+C）**
3. **粘贴到 SQL Editor（Ctrl+V）**
4. **点击右下角 "Run" 按钮**
5. **等待执行完成（约30秒）**

---

## ✅ 验证导入结果

执行完成后，你会看到：

```
✅ 2024年真题导入完成！

导入统计：
  总题数: 50 道
  单选题: 45 道
  多选题: 5 道
  2024年真题: 50 道
```

### 验证查询

在 SQL Editor 运行：

```sql
-- 查看总数
SELECT COUNT(*) as total
FROM questions
WHERE source_year = 2024 
  AND subject = '中药学综合知识与技能';

-- 查看前10道题
SELECT 
  id,
  LEFT(content, 50) || '...' as 题目,
  correct_answer as 答案,
  knowledge_points[1] as 主要知识点
FROM questions
WHERE source_year = 2024 
  AND subject = '中药学综合知识与技能'
ORDER BY id
LIMIT 10;

-- 按章节统计
SELECT 
  chapter as 章节,
  COUNT(*) as 题数,
  COUNT(*) FILTER (WHERE difficulty >= 3) as 难题数
FROM questions
WHERE source_year = 2024 
  AND subject = '中药学综合知识与技能'
GROUP BY chapter
ORDER BY 题数 DESC;
```

---

## 📊 已导入题目分布

### 题型分布
- ✅ 最佳选择题：30道
- ✅ 配伍选择题：10道（3组）
- ✅ 综合分析题：5道
- ✅ 多项选择题：5道

### 章节分布
- 中医基础理论
- 中药贮藏与养护
- 中医药典籍
- 中医内科病证
- 中药注射剂使用
- 感冒用药
- 中药饮片炮制
- 中医诊断
- 中西药联用
- 中成药
- 毒性中药
- 合理用药

### 难度分布
- 简单（难度1）：0道
- 中等（难度2）：25道
- 较难（难度3）：23道
- 困难（难度4）：2道

---

## 🎯 核心知识点标签

每道题都包含知识点标签，包括：

**高频考点：**
- 经络学说
- 中药注射剂
- 用药安全
- 辨证施治

**专业知识：**
- 中药贮藏
- 中药炮制
- 中医诊断
- 中西药联用
- 毒性中药

**2024标记：**
- 所有题目都标记了 `2024年真题` 标签

---

## 💡 如何导入更多题目

如果你想导入全部120道题，有两种方式：

### 方式1：手动分批导入

1. 将120道题分成3批（每批40题）
2. 按照相同格式创建SQL
3. 分3次在 SQL Editor 中运行

### 方式2：告诉我需要的题号

例如：
- "请帮我导入第21-40题"
- "请帮我导入所有配伍选择题"
- "请帮我导入所有综合分析题"

我会立即为你生成对应的SQL脚本！

---

## 🧪 测试题目显示

### 在 Dashboard 中查看

1. 点击左侧菜单 **"Table Editor"**
2. 选择 **"questions"** 表
3. 筛选条件：`source_year = 2024`
4. 查看导入的题目

### 使用 API 测试

创建测试文件 `test-2024-questions.ts`：

```typescript
import { createClient } from '@supabase/supabase-js';

const supabaseUrl = 'https://tparjdkxxtnentsdazfw.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...';

const supabase = createClient(supabaseUrl, supabaseKey);

async function test2024Questions() {
  // 获取2024年真题
  const { data, error } = await supabase
    .from('questions')
    .select('*')
    .eq('source_year', 2024)
    .eq('subject', '中药学综合知识与技能')
    .order('id');
  
  if (error) {
    console.error('查询失败:', error);
    return;
  }
  
  console.log(`✅ 找到 ${data.length} 道2024年真题`);
  console.log('\n前3道题目：');
  data.slice(0, 3).forEach((q, i) => {
    console.log(`\n${i + 1}. ${q.content}`);
    console.log(`   答案: ${q.correct_answer}`);
    console.log(`   知识点: ${q.knowledge_points.join(', ')}`);
  });
}

test2024Questions();
```

运行：
```bash
npx tsx test-2024-questions.ts
```

---

## 🎉 导入成功后

### 前端可以这样使用

```typescript
// 获取所有2024年真题
const { data } = await supabase
  .from('questions')
  .select('*')
  .eq('source_year', 2024)
  .eq('subject', '中药学综合知识与技能');

// 按章节筛选
const { data } = await supabase
  .from('questions')
  .select('*')
  .eq('source_year', 2024)
  .eq('chapter', '中医基础理论');

// 按难度筛选
const { data } = await supabase
  .from('questions')
  .select('*')
  .eq('source_year', 2024)
  .gte('difficulty', 3); // 难度>=3

// 按知识点搜索
const { data } = await supabase
  .from('questions')
  .select('*')
  .contains('knowledge_points', ['2024年真题']);

// 随机获取20道题
const { data } = await supabase
  .from('questions')
  .select('*')
  .eq('source_year', 2024)
  .order('id', { ascending: false })
  .limit(20);
```

---

## 📝 题目数据格式

每道题包含以下字段：

```json
{
  "id": "2024_zyyz_001",
  "exam_type": "执业药师",
  "subject": "中药学综合知识与技能",
  "chapter": "中医基础理论",
  "question_type": "single",
  "content": "属于\"阳脉之海\"的是",
  "options": [
    {"key": "A", "value": "阳维之脉"},
    {"key": "B", "value": "阳跷之脉"},
    {"key": "C", "value": "督脉"},
    {"key": "D", "value": "带脉"},
    {"key": "E", "value": "任脉"}
  ],
  "correct_answer": "C",
  "explanation": "督脉为\"阳脉之海\"。任脉为\"阴脉之海\"。",
  "difficulty": 2,
  "knowledge_points": ["经络学说", "2024年真题", "高频考点"],
  "source_type": "真题",
  "source_year": 2024
}
```

---

## 🔧 常见问题

### Q1: 导入失败怎么办？
**A:** 
- 检查 questions 表是否已创建
- 确认 SQL 语法没有错误
- 尝试删除重复ID后重新导入

### Q2: 如何删除已导入的数据？
**A:** 在 SQL Editor 运行：
```sql
DELETE FROM questions 
WHERE source_year = 2024 
  AND subject = '中药学综合知识与技能';
```

### Q3: 如何导入全部120道题？
**A:** 告诉我你需要的题号范围，我会生成对应的SQL脚本！

### Q4: 题目ID格式说明
**A:** 
- 格式：`2024_zyyz_XXX`
- 2024：年份
- zyyz：中药药综的拼音缩写
- XXX：题号（001-120）

---

## 🚀 下一步

导入成功后，你可以：

1. ✅ **测试前端显示**
   - 访问：http://localhost:3000/practice
   - 选择：中药学综合知识与技能
   - 查看：2024年真题

2. ✅ **添加更多功能**
   - 按章节练习
   - 错题本
   - 收藏夹
   - 模拟考试

3. ✅ **导入其他科目**
   - 中药学专业知识一
   - 中药学专业知识二
   - 药事管理与法规

---

## 📞 需要帮助？

如果遇到问题：
1. 查看 Dashboard 的错误日志
2. 运行验证查询检查数据
3. 告诉我具体的错误信息

**需要导入更多题目，随时告诉我！** 🎯

---

**立即开始：打开 `⚡导入2024真题-快速脚本.sql` 并在 SQL Editor 中运行！** 🚀
