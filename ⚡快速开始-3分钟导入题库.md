# ⚡ 快速开始 - 3分钟导入题库

## 🎯 适用场景

- ✅ **2024年题库** - 当前年份（已有数据）
- ✅ **2023年题库** - 新年份（需要准备数据）
- ✅ **其他年份** - 任何历年真题

---

## 🚀 方案1：2024年题库（已有数据）

### 步骤1：双击运行（10秒）

```
📁 找到文件：一键导入2024题库.bat
🖱️ 双击运行
⏱️ 等待10秒
```

### 步骤2：复制SQL（30秒）

```
📁 打开文件：import-2024-questions-auto.sql
📋 Ctrl+A 全选
📋 Ctrl+C 复制
```

### 步骤3：Supabase执行（2分钟）

```
1. 打开浏览器
   https://supabase.com/dashboard/project/tparjdkxxtnentsdazfw/sql

2. 在SQL编辑器中
   📋 Ctrl+V 粘贴
   ▶️ 点击 Run 按钮

3. 等待完成（约1-2分钟）
```

### 步骤4：验证结果（30秒）

```
1. 刷新网站
   https://yikaobiguo.com/practice/history?exam=pharmacist

2. 查看2024年题库
   应该显示：120道题

3. 测试题型分组
   应该有：最佳、配伍、综合、多项 四个分组
```

✅ **完成！总耗时3分钟**

---

## 🔄 方案2：2023年题库（新年份）

### 步骤1：准备数据（5分钟）

```
1. 创建数据文件夹
   📁 data/2023/

2. 保存题库文本
   📄 data/2023/zhongyao-zongheng.txt
   
   格式同2024年：
   一、最佳选择题
   1. 题目...
   A. 选项A
   ...
```

### 步骤2：运行解析器（1分钟）

```bash
# 方式1：使用命令行
python question_parser_advanced.py --input data/2023/zhongyao-zongheng.txt --year 2023

# 方式2：修改配置文件
# 编辑 question_config.json，添加2023配置
python question_parser_advanced.py --year 2023
```

### 步骤3-4：同方案1

复制SQL → Supabase执行 → 验证结果

✅ **完成！总耗时8分钟**

---

## 📋 标准流程（SOP）

### 任何年份题库导入流程

```
┌─────────────────────────────────────────┐
│ 📥 准备阶段 (5分钟)                      │
├─────────────────────────────────────────┤
│ 1. 获取题库原始文本                     │
│ 2. 检查格式是否符合要求                │
│ 3. 保存到正确位置                       │
└─────────────────────────────────────────┘
              ⬇️
┌─────────────────────────────────────────┐
│ ⚙️ 解析阶段 (1分钟)                     │
├─────────────────────────────────────────┤
│ 1. 运行解析器脚本                       │
│ 2. 自动生成SQL和JSON文件               │
│ 3. 检查解析报告                         │
└─────────────────────────────────────────┘
              ⬇️
┌─────────────────────────────────────────┐
│ 📤 导入阶段 (2分钟)                     │
├─────────────────────────────────────────┤
│ 1. 打开Supabase SQL编辑器              │
│ 2. 复制粘贴SQL内容                      │
│ 3. 执行导入                             │
└─────────────────────────────────────────┘
              ⬇️
┌─────────────────────────────────────────┐
│ ✅ 验证阶段 (2分钟)                     │
├─────────────────────────────────────────┤
│ 1. 检查数据库题目数量                  │
│ 2. 检查题型分布                         │
│ 3. 测试前端显示                         │
│ 4. 测试模拟考试                         │
└─────────────────────────────────────────┘
              ⬇️
         🎉 完成！
```

---

## 🛠️ 工具说明

### 方式1：一键脚本（推荐新手）

```batch
📄 一键导入2024题库.bat

优点：
✅ 最简单，双击即可
✅ 自动检查环境
✅ 友好的提示信息

适用：2024年题库
```

### 方式2：命令行（推荐高级用户）

```bash
# 基础版
python question_parser.py

# 高级版
python question_parser_advanced.py --year 2024

优点：
✅ 更灵活，支持参数
✅ 适用任何年份
✅ 可自定义配置
```

### 方式3：Python脚本（推荐开发者）

```python
from question_parser_advanced import AdvancedQuestionParser

parser = AdvancedQuestionParser()
questions = parser.parse_from_text(text, config)
parser.generate_sql('output.sql')

优点：
✅ 完全控制
✅ 可集成到其他系统
✅ 可自定义扩展
```

---

## 📁 文件结构

```
e:\tiku\
├── 📄 题库原始数据-请粘贴到这里.txt  ← 2024年数据
├── 📄 question_parser.py             ← 基础解析器
├── 📄 question_parser_advanced.py    ← 高级解析器
├── 📄 question_config.json           ← 配置文件
├── 📄 一键导入2024题库.bat           ← 一键脚本
│
├── 📁 data/                          ← 其他年份数据
│   ├── 2023/
│   │   └── zhongyao-zongheng.txt
│   └── 2022/
│       └── zhongyao-zongheng.txt
│
├── 📁 output/                        ← 生成的文件
│   ├── import-2024-questions-auto.sql
│   ├── import-2023-questions-auto.sql
│   ├── questions-2024-parsed.json
│   └── questions-2023-parsed.json
│
└── 📁 docs/                          ← 文档
    ├── 📘题库导入系统-完整使用手册.md
    └── ⚡快速开始-3分钟导入题库.md
```

---

## ❓ 常见问题

### Q1：Python命令找不到？

```bash
# Windows: 下载安装Python
https://www.python.org/downloads/

# 安装后重启命令行
python --version
```

### Q2：解析器报错？

```bash
# 检查数据文件是否存在
dir "题库原始数据-请粘贴到这里.txt"

# 检查文件内容格式
# 应该包含：一、最佳选择题...
```

### Q3：SQL执行失败？

```sql
-- 检查是否有语法错误
-- 检查是否有特殊字符
-- 尝试分批执行（每次30-40题）
```

### Q4：题目数量不对？

```bash
# 查看解析报告
# 会显示：
# ✅ 成功解析 120 道题
# ⚠️  解析错误 (X 个)

# 根据错误提示修正数据格式
```

---

## 💡 使用技巧

### 技巧1：批量导入多个年份

```bash
# 创建批处理脚本
for /L %%y in (2024,-1,2020) do (
  python question_parser_advanced.py --year %%y
)
```

### 技巧2：验证数据完整性

```bash
# 解析后自动生成JSON
# 可以用Excel打开检查
# questions-2024-parsed.json
```

### 技巧3：自定义配置

```json
// question_config.json
{
  "exams": {
    "my_custom_exam": {
      "exam_type": "自定义考试",
      "subject": "自定义科目",
      "source_year": 2024,
      ...
    }
  }
}
```

### 技巧4：备份数据

```bash
# 导入前备份
copy import-2024-questions-auto.sql backup/

# 导入后备份数据库
# 在Supabase中导出SQL
```

---

## 🎯 核心优势

### 为什么这个系统好用？

1. **流程标准化** ⭐⭐⭐⭐⭐
   - 任何年份都是相同流程
   - 不需要重新学习

2. **自动化程度高** ⭐⭐⭐⭐⭐
   - 一键解析
   - 自动生成SQL
   - 自动验证

3. **易于扩展** ⭐⭐⭐⭐⭐
   - 配置文件驱动
   - 支持自定义规则
   - 支持多种格式

4. **质量保证** ⭐⭐⭐⭐⭐
   - 自动验证数据
   - 详细错误报告
   - 导入后验证

5. **文档完善** ⭐⭐⭐⭐⭐
   - 快速开始指南
   - 完整使用手册
   - 常见问题解答

---

## 📞 需要帮助？

### 第一步：查看文档

```
📘 完整使用手册.md - 详细说明
⚡ 快速开始.md - 本文档
🔧 系统配置说明.md - 配置详解
```

### 第二步：检查日志

```
logs/import-2024-11-20.log
# 查看详细错误信息
```

### 第三步：运行诊断

```bash
python diagnose.py
# 自动检查环境和配置
```

---

## 🎉 开始使用

**现在就开始吧！**

```
👉 2024年题库：双击 一键导入2024题库.bat
👉 其他年份：  python question_parser_advanced.py --year YYYY
👉 查看文档：  📘题库导入系统-完整使用手册.md
```

**3分钟后，您的题库就能在网站上展示了！** 🚀

---

**版本：** 1.0.0  
**更新：** 2025-11-20  
**作者：** AI Assistant (Senior Architect)
